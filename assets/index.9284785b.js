var W=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var N=(i,e,s)=>e in i?W(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,D=(i,e)=>{for(var s in e||(e={}))Z.call(e,s)&&N(i,s,e[s]);if(B)for(var s of B(e))ee.call(e,s)&&N(i,s,e[s]);return i},I=(i,e)=>X(i,Y(e));var h=(i,e,s)=>(N(i,typeof e!="symbol"?e+"":e,s),s);import{d as R,r as m,o,c as l,a,t as p,u as n,n as se,F as w,b as k,e as L,f as u,w as T,v as j,i as F,g as te,h as ne}from"./vendor.ce5fffdc.js";const re=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}};re();var q="/range2dices/assets/d10.02a564c5.png",M="/range2dices/assets/d100.8a5bdde1.png",O="/range2dices/assets/d12.71de8583.png",C="/range2dices/assets/d20.24169536.png",E="/range2dices/assets/d4.fa052c7e.png",S="/range2dices/assets/d6.7ca1bcb5.png",U="/range2dices/assets/d8.7578e8ac.png",z="/range2dices/assets/coin.21d4a375.png";class A{constructor(e,s){h(this,"n");h(this,"faces");this.n=e,this.faces=s}set times(e){this.n=e}increase(){this.n+=1}throw(e,s=this.n){return s==1?[Math.floor(Math.random()*this.faces)+e]:[Math.floor(Math.random()*this.faces)+e,...this.throw(e,s-1)]}}class v extends A{constructor(e,s){super(e,s)}roll(){return super.throw(1)}type(){return`d${this.faces}`}to_interval(){return new V(this.n,this.n*this.faces)}}class $ extends A{constructor(e){super(e,2)}roll(){return this.n>0?super.throw(0):[0]}type(){return"coin"}to_interval(){return new V(0,this.faces)}}class y{constructor(e,s,r){h(this,"n");h(this,"dices");h(this,"coinsNum");h(this,"modif");h(this,"diceResults",{});h(this,"coinsResults",[]);h(this,"total",0);this.n=e.reduce((t,c)=>t+c.n,0),this.dices=e,this.coinsNum=s,this.modif=r}roll(){return this.coinsResults=new $(this.coinsNum).roll(),this.dices.map(e=>{var s=e.roll();this.diceResults[e.type()]={array:s,ut:s.reduce((r,t)=>r+t,0)}}),this.total=Object.keys(this.diceResults).map(e=>this.diceResults[e].ut).reduce((e,s)=>e+s,0)+this.coinsResults.reduce((e,s)=>e+s,0)+this.modif,this}}class V{constructor(e,s){h(this,"max");h(this,"min");this.min=e,this.max=s}candidates(e){var s=this.min-e.to_interval().min,r=this.max-e.to_interval().max-s;if(r<0)return null;var t=this.candidates(new v(e.n+1,e.faces));return t||new y([e],r,s)}all_candidates(){return[new v(1,4),new v(1,6),new v(1,8),new v(1,10),new v(1,12),new v(1,20),new v(1,100)].map(e=>this.candidates(e)).filter(e=>e!==null)}optimal_candidate(){return this.all_candidates().length===0?new y([],this.max,0):this.all_candidates().reduce((s,r)=>s instanceof y&&r instanceof y?s.coinsNum<r.coinsNum||s.coinsNum==r.coinsNum&&s.n<r.n?s:r:new y([],1/0,0),new y([],1/0,0))}}var ie="/range2dices/assets/pattern-dices.bb661ac9.png";const ae=["name"],oe=["src"],le=R({name:"Throweable"}),P=R(I(D({},le),{props:{coin:{type:[$],default:new $(0),required:!0},dice:{type:[v],default:new v(0,0),required:!0}},setup(i){const e=i;function s(t){return new URL({"/src/assets/coin.png":z,"/src/assets/d10.png":q,"/src/assets/d100.png":M,"/src/assets/d12.png":O,"/src/assets/d20.png":C,"/src/assets/d4.png":E,"/src/assets/d6.png":S,"/src/assets/d8.png":U,"/src/assets/pattern-dices.png":ie}[`/src/assets/${t}.png`],self.location).href}var r=m(e.coin.n===0?e.dice:e.coin);return(t,c)=>(o(),l("div",{name:n(r).n+n(r).type()},[a("div",{class:se(["number",n(r).type()])},p(n(r).n),3),a("img",{src:s(n(r).type()),width:"60"},null,8,oe)],8,ae))}}));const ce={class:"fieldExpr"},de={key:0,class:"sumSomething"},ue={key:0,class:"operator"},_e={key:1,class:"sumSomething"},he=a("div",{class:"operator"},"+",-1),pe={class:"modificador"},fe=R({props:{roll:{type:y,required:!0},coins:{type:Number,required:!0}},setup(i){const e=i;function s(){return e.roll?e.roll.dices:[]}return(r,t)=>(o(),l("div",ce,[(o(!0),l(w,null,k(s(),(c,f)=>(o(),l("div",{key:f},[L(P,{dice:c},null,8,["dice"])]))),128)),i.coins!=0?(o(),l("div",de,[s().length>0?(o(),l("div",ue,"+")):u("",!0),L(P,{coin:new n($)(e.coins)},null,8,["coin"])])):u("",!0),i.roll.modif!=0?(o(),l("div",_e,[he,a("div",pe,p(i.roll.modif),1)])):u("",!0)]))}});const ve=a("h1",null,"Range2Dices",-1),me={class:"menu"},ge={key:0,class:"fieldRollSet"},ye={key:1,class:"fieldRollSet"},we={class:"result-container"},Re={key:0,class:"dice-name"},be=["src"],ke={class:"dice-values"},$e=a("div",{class:"dice-equal"},"=",-1),xe={class:"dice-total"},Ne={key:0,class:"dice-result"},Le={key:0,class:"dice-name"},qe=a("img",{src:z,width:"35",alt:"image"},null,-1),Me=[qe],Oe={class:"dice-values"},Ce=a("div",{class:"dice-equal"},"=",-1),Ee={class:"dice-total"},Se=a("hr",null,null,-1),Ue={key:1,class:"lastExper"},Ve={class:"dice-value lastResult_dices"},Be={class:"last-operator"},De={class:"coins-value lastResult_coins"},Ie={class:"last-operator"},Te={class:"dice-value lastResult_modif"},je={key:0,class:"total"},Fe=R({setup(i){var e=m(0),s=m(0),r=m(!1),t=m(),c=m(),f=m(),x=m();function G(g){return console.log(new URL({"/src/assets/d10.png":q,"/src/assets/d100.png":M,"/src/assets/d12.png":O,"/src/assets/d20.png":C,"/src/assets/d4.png":E,"/src/assets/d6.png":S,"/src/assets/d8.png":U}[`/src/assets/d${g}.png`],self.location).href),new URL({"/src/assets/d10.png":q,"/src/assets/d100.png":M,"/src/assets/d12.png":O,"/src/assets/d20.png":C,"/src/assets/d4.png":E,"/src/assets/d6.png":S,"/src/assets/d8.png":U}[`/src/assets/d${g}.png`],self.location).href}function K(){r.value=!0,t.value=new V(e.value,s.value).optimal_candidate(),c.value=null,f.value=null,x.value=null}function H(){t.value.roll(),c.value=Object.values(t.value.diceResults).reduce((g,_)=>g+_.ut,0),f.value=Object.values(t.value.coinsResults).reduce((g,_)=>g+_,0),x.value=t.value.modif}return(g,_)=>(o(),l(w,null,[ve,a("div",me,[T(a("input",{"onUpdate:modelValue":_[0]||(_[0]=d=>F(e)?e.value=d:e=d),type:"number"},null,512),[[j,n(e)]]),T(a("input",{"onUpdate:modelValue":_[1]||(_[1]=d=>F(s)?s.value=d:s=d),type:"number"},null,512),[[j,n(s)]]),a("button",{onClick:_[2]||(_[2]=d=>K())},"Generar")]),n(r)?(o(),l("div",ge,[L(fe,{roll:n(t),coins:n(t).coinsNum},null,8,["roll","coins"]),a("button",{class:"rollExpr",onClick:_[3]||(_[3]=d=>H())},"roll")])):u("",!0),n(r)?(o(),l("div",ye,[a("div",we,[(o(!0),l(w,null,k(n(t).dices,(d,b)=>(o(),l("div",{class:"dice-result",key:b},[n(t).diceResults[`d${d.faces}`]?(o(),l("div",Re,[a("img",{src:G(d.faces),width:"35",alt:"image"},null,8,be)])):u("",!0),a("div",ke,[n(t).diceResults[`d${d.faces}`]?(o(!0),l(w,{key:0},k(n(t).diceResults[`d${d.faces}`].array,(J,Q)=>(o(),l("div",{class:"dice-value",key:Q},p(J),1))),128)):u("",!0)]),b+1==n(t).dices.length&&n(t).diceResults[`d${d.faces}`]?(o(),l(w,{key:1},[$e,a("div",xe,p(n(t).diceResults[`d${d.faces}`].ut),1)],64)):u("",!0)]))),128)),n(t).coinsResults.length>0?(o(),l("div",Ne,[n(t).coinsResults?(o(),l("div",Le,Me)):u("",!0),a("div",Oe,[n(t).coinsResults?(o(!0),l(w,{key:0},k(n(t).coinsResults,(d,b)=>(o(),l("div",{class:"dice-value",key:b},p(d),1))),128)):u("",!0)]),Ce,a("div",Ee,p(n(f)),1)])):u("",!0),Se,n(c)?(o(),l("div",Ue,[a("div",Ve,p(n(c)),1),a("div",Be,p(n(f)>0?"+":"-"),1),a("div",De,p(n(f)),1),a("div",Ie,p(n(x)>0?"+":"-"),1),a("div",Te,p(Math.abs(n(t).modif)),1)])):u("",!0)]),n(t).total?(o(),l("div",je,p(n(t).total),1)):u("",!0)])):u("",!0)],64))}}),Pe=R({setup(i){return(e,s)=>(o(),te(Fe))}});ne(Pe).mount("#app");
