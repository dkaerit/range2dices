var I=Object.defineProperty;var j=(i,e,s)=>e in i?I(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var m=(i,e,s)=>(j(i,typeof e!="symbol"?e+"":e,s),s);import{d as x,o,c as r,a as l,t as _,n as F,F as g,r as k,b,e as d,u as n,f as p,w as O,v as q,i as C,g as P,h as T}from"./vendor.be636790.js";const z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}};z();class L{constructor(e,s){m(this,"n");m(this,"faces");this.n=e,this.faces=s}set times(e){this.n=e}increase(){this.n+=1}throw(e,s=this.n){return s==1?[Math.floor(Math.random()*this.faces)+e]:[Math.floor(Math.random()*this.faces)+e,...this.throw(e,s-1)]}}class v extends L{constructor(e,s){super(e,s)}roll(){return super.throw(1)}type(){return`d${this.faces}`}to_interval(){return new M(this.n,this.n*this.faces)}}class N extends L{constructor(e){super(e,2)}roll(){return this.n>0?super.throw(0):[0]}type(){return"coin"}to_interval(){return new M(0,this.faces)}}class y{constructor(e,s,c){m(this,"n");m(this,"dices");m(this,"coinsNum");m(this,"modif");m(this,"diceResults",{});m(this,"coinsResults",[]);m(this,"total",0);this.n=e.reduce((t,a)=>t+a.n,0),this.dices=e,this.coinsNum=s,this.modif=c}roll(){return this.coinsResults=new N(this.coinsNum).roll(),this.dices.map(e=>{var s=e.roll();this.diceResults[e.type()]={array:s,ut:s.reduce((c,t)=>c+t,0)}}),this.total=Object.keys(this.diceResults).map(e=>this.diceResults[e].ut).reduce((e,s)=>e+s,0)+this.coinsResults.reduce((e,s)=>e+s,0)+this.modif,this}}class M{constructor(e,s){m(this,"max");m(this,"min");this.min=e,this.max=s}candidates(e){var s=this.min-e.to_interval().min,c=this.max-e.to_interval().max-s;if(c<0)return null;var t=this.candidates(new v(e.n+1,e.faces));return t||new y([e],c,s)}all_candidates(){return[new v(1,4),new v(1,6),new v(1,8),new v(1,10),new v(1,12),new v(1,20),new v(1,100)].map(e=>this.candidates(e)).filter(e=>e!==null)}optimal_candidate(){return this.all_candidates().length===0?new y([],this.max,0):this.all_candidates().reduce((s,c)=>s instanceof y&&c instanceof y?s.coinsNum<c.coinsNum||s.coinsNum==c.coinsNum&&s.n<c.n?s:c:new y([],1/0,0),new y([],1/0,0))}}const A=["name"],U=["src"],E=x({props:{scheme:{type:[N,v],required:!0}},setup(i){return(e,s)=>(o(),r("div",{name:i.scheme.n+i.scheme.type()},[l("div",{class:F(["number",i.scheme.type()])},_(i.scheme.n),3),l("img",{src:"src/assets/"+i.scheme.type()+".png",width:"60"},null,8,U)],8,A))}});const G={class:"fieldExpr"},K={key:0,class:"sumSomething"},H={key:0,class:"operator"},J={key:1,class:"sumSomething"},Q=l("div",{class:"operator"},"+",-1),W={class:"modificador"},X=x({props:{roll:{type:y,required:!0},coins:{type:Number,required:!0}},setup(i){const e=i;function s(){return e.roll?e.roll.dices:[]}return(c,t)=>(o(),r("div",G,[(o(!0),r(g,null,k(s(),a=>(o(),r("div",{key:a},[b(E,{scheme:a},null,8,["scheme"])]))),128)),i.coins!=0?(o(),r("div",K,[s().length>0?(o(),r("div",H,"+")):d("",!0),b(E,{scheme:new n(N)(i.coins)},null,8,["scheme"])])):d("",!0),i.roll.modif!=0?(o(),r("div",J,[Q,l("div",W,_(i.roll.modif),1)])):d("",!0)]))}});const Y=l("h1",null,"Range2Dices",-1),Z={class:"menu"},ee={key:0,class:"fieldRollSet"},se={key:1,class:"fieldRollSet"},te={class:"result-container"},ne={key:0,class:"dice-name"},ie=["src"],le={class:"dice-values"},oe=l("div",{class:"dice-equal"},"=",-1),re={class:"dice-total"},ce={key:0,class:"dice-result"},ae={key:0,class:"dice-name"},ue=["src"],de={class:"dice-values"},he=l("div",{class:"dice-equal"},"=",-1),me={class:"dice-total"},_e=l("hr",null,null,-1),fe={key:1,class:"lastExper"},ve={class:"dice-value lastResult_dices"},pe={class:"last-operator"},ye={class:"coins-value lastResult_coins"},ge={class:"last-operator"},we={class:"dice-value lastResult_modif"},Re={key:0,class:"total"},ke=x({setup(i){var e=p(0),s=p(0),c=p(!1),t=p(),a=p(),f=p(),$=p();function S(){c.value=!0,t.value=new M(e.value,s.value).optimal_candidate(),a.value=null,f.value=null,$.value=null}function V(){t.value.roll(),a.value=Object.values(t.value.diceResults).reduce((w,h)=>w+h.ut,0),f.value=Object.values(t.value.coinsResults).reduce((w,h)=>w+h,0),$.value=t.value.modif}return(w,h)=>(o(),r(g,null,[Y,l("div",Z,[O(l("input",{"onUpdate:modelValue":h[0]||(h[0]=u=>C(e)?e.value=u:e=u),type:"number"},null,512),[[q,n(e)]]),O(l("input",{"onUpdate:modelValue":h[1]||(h[1]=u=>C(s)?s.value=u:s=u),type:"number"},null,512),[[q,n(s)]]),l("button",{onClick:h[2]||(h[2]=u=>S())},"Generar")]),n(c)?(o(),r("div",ee,[b(X,{roll:n(t),coins:n(t).coinsNum},null,8,["roll","coins"]),l("button",{class:"rollExpr",onClick:h[3]||(h[3]=u=>V())},"roll")])):d("",!0),n(c)?(o(),r("div",se,[l("div",te,[(o(!0),r(g,null,k(n(t).dices,(u,R)=>(o(),r("div",{class:"dice-result",key:R},[n(t).diceResults[`d${u.faces}`]?(o(),r("div",ne,[l("img",{src:"src/assets/d"+u.faces+".png",width:"35"},null,8,ie)])):d("",!0),l("div",le,[n(t).diceResults[`d${u.faces}`]?(o(!0),r(g,{key:0},k(n(t).diceResults[`d${u.faces}`].array,(B,D)=>(o(),r("div",{class:"dice-value",key:D},_(B),1))),128)):d("",!0)]),R+1==n(t).dices.length&&n(t).diceResults[`d${u.faces}`]?(o(),r(g,{key:1},[oe,l("div",re,_(n(t).diceResults[`d${u.faces}`].ut),1)],64)):d("",!0)]))),128)),n(t).coinsResults.length>0?(o(),r("div",ce,[n(t).coinsResults?(o(),r("div",ae,[l("img",{src:"src/assets/coin.png",width:"35"},null,8,ue)])):d("",!0),l("div",de,[n(t).coinsResults?(o(!0),r(g,{key:0},k(n(t).coinsResults,(u,R)=>(o(),r("div",{class:"dice-value",key:R},_(u),1))),128)):d("",!0)]),he,l("div",me,_(n(f)),1)])):d("",!0),_e,n(a)?(o(),r("div",fe,[l("div",ve,_(n(a)),1),l("div",pe,_(n(f)>0?"+":"-"),1),l("div",ye,_(n(f)),1),l("div",ge,_(n($)>0?"+":"-"),1),l("div",we,_(Math.abs(n(t).modif)),1)])):d("",!0)]),n(t).total?(o(),r("div",Re,_(n(t).total),1)):d("",!0)])):d("",!0)],64))}}),xe=x({setup(i){return(e,s)=>(o(),P(ke))}});T(xe).mount("#app");
